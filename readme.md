#### Тестовое задание Unity разработчика в CarX ####

Представим, что вы становитесь новым и единственным разработчиком тестового проекта CarX Tower Defence. Здесь представлено текущее состояние проекта, ваши задачи в порядке приоритета:

Обязательное:
1) провести осмотр проекта: перепроектировать, оптимизировать, исправить найденные недочеты, либо изложить их текстом и указать возможные пути решения;
2) сделать стрельбу с упреждением для CannonTower: добавить функционал поиска цели и наведения на неё так, чтобы выпущенные снаряды стали попадать по цели; снаряды должны вылетать строго из ствола пушки; на снаряд в полете запрещено прикладывать какие-либо силы или корректировки;

Необязательное:
3) для CannonTower сделать захват и сопровождение цели с упреждением; поворот орудия башни должен быть плавным; сделать возможность настройки скорости поворота орудия;
4) для CannonTower сделать режим стрельбы на упреждение по параболической траектории (на снаряд должна действовать гравитация)

#### Обоснование: ####

Для управления экземплярами ассетов используется ассетный кеш, офрмленный как ScriptableObject (GameCache). В нем же имеется возможность настройки основных параметров системы и набора асетов источников.

Да управления используется контроллер наведения (контроллеры пушек, Controller) со стратегиями рассчета вектора напревления орудия (Driver). Для орудия с неуправляемыми снарядами используется стратегия CannonAutoDriver.

Для получение исходных данных, последовательность обработки обьектов должна быть следующей:

1. расчет перемещения мобов
2. рассчет поворота пушек
3. рассчет возможноси выстрела
4. рассчет снарядов

В любом случае, рассчет возможно проводить для поекции на плоскость параллельную плоскости земли. Это упростит порядок уравнений т.к. исключит составляющие ускорения и не повлияет на результат. Для уточнения прицеливания можно ввести коррекцию по высоте моба. Применительно к этой задаче это даст небольшой выигрыш в точности пушки, но в силу постоянной начальной скорости полёта снаряда, большой роли не сиграет.

Для решения используется рассчёт положений относительно пушки в векторной форме. Для рассчёта упреждения используется теорема синусов для проекций на плоскость, параллельную XOZ. Реализация математики далека от идеала (можно двигаться в сторону векторной формы для упреждения, относительно большая погрешность в силу использования сложных преобразований: деления, математические угловые преобразования), но работает.. )

Для детекции столкновений используется подсистема физики движка, но это может быть затруднительным в силу ее не детерминированности и сложности настройки. По этому, а также по тому что эта игра предолагает сетевую составляющую рекомендую заменить использование этой подсистемы на детерминированный модуль рассчёта столкновений с возможностью сохранения состояний. Это даст данные для рассчёта синхронизации столкновений во времени (при задержке, возникающей изза передачи данных между ядрами рассчёта состояний игры). Физику же можно использовать для не синхронизируемых эффектов.

